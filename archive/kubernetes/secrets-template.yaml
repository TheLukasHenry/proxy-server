# kubernetes/secrets-template.yaml
# TEMPLATE FILE - Copy to secrets.yaml and replace placeholder values
# DO NOT commit secrets.yaml with real values!
#
# To apply: kubectl apply -f kubernetes/secrets.yaml

apiVersion: v1
kind: Secret
metadata:
  name: open-webui-secrets
  namespace: open-webui
type: Opaque
stringData:
  # ==========================================================================
  # PostgreSQL Database (Azure Database for PostgreSQL or local)
  # ==========================================================================
  DATABASE_URL: "postgresql://openwebui_admin:<PASSWORD>@<SERVER>.postgres.database.azure.com:5432/openwebui?sslmode=require"

  # ==========================================================================
  # Redis for Sessions
  # ==========================================================================
  REDIS_URL: "redis://redis-master:6379/0"
  REDIS_PASSWORD: "<GENERATE-REDIS-PASSWORD>"

  # ==========================================================================
  # Security Keys
  # ==========================================================================
  # Open WebUI secret key (generate with: openssl rand -hex 32)
  WEBUI_SECRET_KEY: "<GENERATE-32-BYTE-HEX>"

  # Open WebUI API Key (for auto-registration of tools)
  # Get from: Open WebUI -> Settings -> Account -> API Keys
  OPENWEBUI_API_KEY: "<YOUR-OPENWEBUI-API-KEY>"

  # ==========================================================================
  # Microsoft Entra ID OAuth
  # ==========================================================================
  MICROSOFT_CLIENT_ID: "<YOUR-ENTRA-CLIENT-ID>"
  MICROSOFT_CLIENT_SECRET: "<YOUR-ENTRA-CLIENT-SECRET>"
  MICROSOFT_CLIENT_TENANT_ID: "<YOUR-ENTRA-TENANT-ID>"

---
apiVersion: v1
kind: Secret
metadata:
  name: mcp-secrets
  namespace: open-webui
  labels:
    app: mcp-proxy
type: Opaque
stringData:
  # ==========================================================================
  # INTERNAL
  # ==========================================================================
  MCP_API_KEY: "test-key"  # Internal API key for local MCP servers

  # ==========================================================================
  # TIER 1: HTTP SERVERS (Direct Connection)
  # ==========================================================================
  GITHUB_TOKEN: "<YOUR-GITHUB-TOKEN>"
  LINEAR_API_KEY: "<YOUR-LINEAR-API-KEY>"
  NOTION_API_KEY: "<YOUR-NOTION-API-KEY>"
  HUBSPOT_API_KEY: "<YOUR-HUBSPOT-API-KEY>"
  PULUMI_ACCESS_TOKEN: "<YOUR-PULUMI-TOKEN>"
  GITLAB_TOKEN: "<YOUR-GITLAB-TOKEN>"
  SENTRY_AUTH_TOKEN: "<YOUR-SENTRY-TOKEN>"
  DATADOG_API_KEY: "<YOUR-DATADOG-API-KEY>"
  DATADOG_APP_KEY: "<YOUR-DATADOG-APP-KEY>"
  SNOWFLAKE_TOKEN: "<YOUR-SNOWFLAKE-TOKEN>"
  DBT_TOKEN: "<YOUR-DBT-TOKEN>"
  SLACK_TOKEN: "<YOUR-SLACK-TOKEN>"
  SNYK_TOKEN: "<YOUR-SNYK-TOKEN>"

  # ==========================================================================
  # TIER 2: SSE SERVERS (via mcpo-sse)
  # ==========================================================================
  ATLASSIAN_TOKEN: "<YOUR-ATLASSIAN-TOKEN>"
  ASANA_TOKEN: "<YOUR-ASANA-TOKEN>"

  # ==========================================================================
  # TIER 3: STDIO SERVERS (via mcpo-stdio)
  # ==========================================================================
  SONARQUBE_URL: ""  # For self-hosted: https://your-sonarqube.company.com
  SONARQUBE_ORG: ""  # For SonarCloud: your-organization-key
  SONARQUBE_TOKEN: "<YOUR-SONARQUBE-TOKEN>"

  # ==========================================================================
  # ENTRA ID OAuth Configuration (for MCP Proxy token validation)
  # When configured, OAuth token validation is used instead of headers
  # This provides cryptographically secure user/group verification
  # ==========================================================================
  azure-tenant-id: "<YOUR-ENTRA-TENANT-ID>"           # Highspring tenant ID
  azure-client-id: "<YOUR-MCP-PROXY-APP-CLIENT-ID>"   # MCP Proxy app registration ID
  tenant-group-google-guid: "<GUID-FOR-TENANT-GOOGLE>"     # Entra ID group GUID
  tenant-group-acmecorp-guid: "<GUID-FOR-TENANT-ACMECORP>" # Entra ID group GUID
  tenant-group-microsoft-guid: "<GUID-FOR-TENANT-MICROSOFT>" # Entra ID group GUID
